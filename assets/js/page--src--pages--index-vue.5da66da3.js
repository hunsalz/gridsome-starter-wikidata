(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{231:function(t,e,n){},232:function(t,e,n){},233:function(t,e,n){},234:function(t,e){},237:function(t,e,n){"use strict";var a=n(231);n.n(a).a},238:function(t,e,n){"use strict";var a=n(232);n.n(a).a},239:function(t,e,n){"use strict";var a=n(233);n.n(a).a},240:function(t,e,n){"use strict";var a=n(234),s=n.n(a);e.default=s.a},241:function(t,e,n){"use strict";n.r(e);n(45);var a={props:{event:{type:String,required:!0},tags:{type:Array,required:!0}},mounted:function(){},methods:{emitEvent:function(t){this.$eventBus.$emit(this.event,t)}}},s=(n(237),n(15)),r=Object(s.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tag-filter"},t._l(t.tags,(function(e,a){return n("button",{key:a,staticClass:"tag-filter__button",on:{click:function(n){return t.emitEvent(e)}}},[n("span",[t._v("# "+t._s(e))])])})),0)}),[],!1,null,null,null).exports,i={components:{TagCloud:r},props:{record:{type:Object,required:!0}}},o=(n(238),{components:{CardLayout:Object(s.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-layout content-box"},[n("div",{staticClass:"card-layout__header"},[t.record.cover_image?n("g-image",{attrs:{src:t.record.cover_image,alt:"Cover image"}}):t._e()],1),n("div",{staticClass:"card-layout__main"},[n("h2",{staticClass:"card-layout__title"},[t._v(t._s(t.record.painting))]),n("div",[t._v("Year: "+t._s(t.record.year))]),n("div",[t._v("Collection: "+t._s(t.record.location))]),n("div",[t._v("Material: "+t._s(t.record.materials.join(", ")))]),n("TagCloud",{staticClass:"card-layout__tags",attrs:{event:"addTag",tags:t.record.depicts}})],1),n("g-link",{staticClass:"card-layout__link",attrs:{to:t.record.path}})],1)}),[],!1,null,null,null).exports,TagCloud:r},data:function(){return{selectedTags:[]}},metaInfo:{title:"Overview page",titleTemplate:"%s"},computed:{computedCards:function(){var t=this;return this.$page.records.edges.filter((function(e){return _.intersection(e.node.depicts,t.selectedTags).length===t.selectedTags.length}))}},created:function(){this.$eventBus.$on("addTag",this.onAddTag),this.$eventBus.$on("removeTag",this.onRemoveTag)},beforeDestroy:function(){this.$eventBus.$off("addTag"),this.$eventBus.$off("removeTag")},methods:{onAddTag:function(t){this.selectedTags=_.union(this.selectedTags,[t])},onRemoveTag:function(t){this.selectedTags=_.without(this.selectedTags,t)}}}),c=(n(239),n(240)),u=Object(s.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("Layout",{attrs:{"show-back-button":!1}},[e("TagCloud",{attrs:{event:"removeTag",tags:this.selectedTags}}),e("div",{staticClass:"grid"},this._l(this.computedCards,(function(t){return e("div",{key:t.node.id},[e("CardLayout",{attrs:{record:t.node}})],1)})),0)],1)}),[],!1,null,null,null);"function"==typeof c.default&&Object(c.default)(u);e.default=u.exports}}]);